<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SBI Clerk Mock - Realme Optimized</title>
    <style>
        :root {
            --header-bg: #2c3e50;
            --primary-blue: #1a73e8;
            --success-green: #2ecc71;
            --danger-red: #e74c3c;
            --review-purple: #9b59b6;
            --border: #dcdfe3;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            font-family: 'Segoe UI', Tahoma, sans-serif; 
            margin: 0; 
            background: #fff; 
            height: 100vh; 
            display: flex; 
            flex-direction: column; 
            overflow: hidden; 
        }

        header { 
            background: var(--header-bg); 
            color: white; 
            padding: 0 15px; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            min-height: 50px;
        }

        #timer { font-weight: bold; font-family: monospace; font-size: 1.1rem; }

        /* Mobile First Layout */
        .container { 
            display: flex; 
            flex: 1; 
            overflow: hidden; 
            position: relative; 
        }

        .q-window { 
            flex: 1; 
            padding: 15px; 
            overflow-y: auto; 
            width: 100%;
        }

        /* Sidebar as Drawer for Mobile */
        .sidebar { 
            position: fixed; 
            right: 0; top: 0; bottom: 0; 
            width: 80%; 
            max-width: 300px; 
            background: white; 
            z-index: 2000; 
            transform: translateX(100%); 
            transition: transform 0.3s ease; 
            box-shadow: -5px 0 15px rgba(0,0,0,0.2);
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .sidebar.open { transform: translateX(0); }

        /* Desktop Adjustments */
        @media (min-width: 1025px) {
            .container { display: grid; grid-template-columns: 1fr 320px; }
            .sidebar { position: relative; transform: none; box-shadow: none; border-left: 1px solid var(--border); }
            #btn-toggle-pal { display: none; }
        }

        .palette { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin-top: 15px; }
        .num-box { 
            height: 35px; border: 1px solid #ccc; display: flex; 
            align-items: center; justify-content: center; border-radius: 4px; font-size: 12px;
        }
        .num-box.active { border: 2px solid var(--primary-blue); font-weight: bold; }
        .num-box.answered { background: var(--success-green); color: white; border: none; }
        .num-box.review { background: var(--review-purple); color: white; border-radius: 50%; }

        .option { 
            padding: 12px; border: 1px solid var(--border); 
            margin-bottom: 8px; border-radius: 8px; font-size: 14px;
        }
        .option.selected { background: #e8f0fe; border-color: var(--primary-blue); font-weight: bold; }

        footer { 
            background: #fff; border-top: 1px solid var(--border); 
            padding: 8px; display: flex; justify-content: space-between; gap: 5px;
        }

        .btn-nav { 
            flex: 1; padding: 10px 2px; border: 1px solid var(--border); 
            background: white; border-radius: 4px; font-weight: bold; 
            font-size: 10px; text-transform: uppercase; text-align: center;
        }
        .btn-primary { background: var(--primary-blue); color: white; border: none; }
        .btn-danger { background: var(--danger-red); color: white; border: none; }

        /* Report Screen */
        #results { display: none; padding: 20px; overflow-y: auto; text-align: center; flex: 1; }
        table { width: 100%; border-collapse: collapse; font-size: 12px; margin-top: 15px; }
        th, td { border: 1px solid #ddd; padding: 8px; }
    </style>
</head>
<body>

    <div id="landing" style="position:fixed; inset:0; background:white; z-index:3000; display:flex; flex-direction:column; justify-content:center; align-items:center; padding: 20px;">
        <h2 style="text-align:center">SBI Clerk Quant Mock</h2>
        <p>35 Questions | 20 Minutes</p>
        <button class="btn-primary" style="padding:15px 30px; border-radius:8px; width:100%; max-width:250px" onclick="initTest()">START TEST</button>
    </div>

    <header>
        <button id="btn-toggle-pal" onclick="toggleSidebar()" style="background:none; border:1px solid #fff; color:white; padding:5px 10px; border-radius:4px;">PALETTE</button>
        <div id="timer">20:00</div>
    </header>

    <div class="container" id="test-main" style="display:none">
        <div class="q-window">
            <h4 id="q-id" style="margin:0 0 10px 0; color:var(--primary-blue)">Question 1</h4>
            <div id="q-text" style="margin-bottom:20px; line-height:1.4; font-weight:500;"></div>
            <div id="options-group"></div>
        </div>

        <div class="sidebar" id="sidebar">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <strong>Questions</strong>
                <button onclick="toggleSidebar()" style="border:none; color:red; background:none; font-weight:bold;">[X]</button>
            </div>
            <div class="palette" id="palette"></div>
        </div>
    </div>

    <footer id="footer-nav" style="display:none">
        <button class="btn-nav" onclick="changeQ(-1)">PREV</button>
        <button class="btn-nav" style="background:var(--review-purple); color:white;" onclick="markReview()">REVIEW</button>
        <button class="btn-nav btn-danger" onclick="submitTest()">SUBMIT</button>
        <button class="btn-nav btn-primary" onclick="saveNext()">SAVE & NEXT</button>
    </footer>

    <div id="results">
        <h3>Performance Report</h3>
        <div id="score-summary" style="margin-bottom:20px; font-weight:bold;"></div>
        <table id="res-table">
            <thead><tr><th>#</th><th>Res</th><th>Correct</th></tr></thead>
            <tbody id="res-body"></tbody>
        </table>
        <button class="btn-primary" style="margin-top:20px; padding:10px 20px;" onclick="location.reload()">RETRY</button>
    </div>

<script>
    const questions = [
        { text: "75% of 480 + 25% of 320 = ?", options: ["420", "440", "460", "400", "450"], correct: 1 },
        { text: "√(1024) + √(576) = ? + 20", options: ["32", "36", "40", "28", "42"], correct: 1 },
        { text: "(15 * 18) ÷ 6 + 12.5% of 240 = ?", options: ["75", "80", "85", "70", "65"], correct: 0 },
        { text: "14.98% of 240.01 + 5.02 * 11.99 = ?", options: ["84", "96", "102", "110", "75"], correct: 1 },
        { text: "(12² + 13² - 11²) ÷ 12 = ?", options: ["14", "16", "18", "20", "15"], correct: 1 },
        { text: "60% of 500 - 40% of 400 = ?²", options: ["10", "12", "14", "8", "16"], correct: 1 },
        { text: "3/7 of 210 + 4/9 of 270 = ?", options: ["210", "200", "220", "190", "230"], correct: 0 },
        { text: "√(?) + 14 = √(1600) - 16", options: ["100", "121", "144", "81", "64"], correct: 0 },
        { text: "18 * 5 + 12 * 4 - 15 * 3 = ?", options: ["93", "87", "101", "105", "83"], correct: 0 },
        { text: "25% of 120 + 50% of 60 = ?% of 300", options: ["10", "20", "25", "30", "15"], correct: 1 },
        { text: "Find missing: 5, 11, 23, 47, 95, ?", options: ["191", "189", "193", "185", "197"], correct: 0 },
        { text: "Find missing: 100, 99, 95, 86, 70, ?", options: ["45", "50", "35", "55", "40"], correct: 0 },
        { text: "Find missing: 2, 6, 12, 20, 30, ?", options: ["40", "42", "44", "46", "48"], correct: 1 },
        { text: "Find missing: 1, 8, 27, 64, 125, ?", options: ["216", "256", "225", "196", "343"], correct: 0 },
        { text: "Find missing: 10, 15, 25, 40, 60, ?", options: ["80", "85", "90", "75", "95"], correct: 1 },
        { text: "I. x² - 5x + 6 = 0\nII. y² - 7y + 12 = 0", options: ["x > y", "x < y", "x ≥ y", "x ≤ y", "CND"], correct: 1 },
        { text: "I. x² + 9x + 20 = 0\nII. y² + 7y + 12 = 0", options: ["x > y", "x < y", "x ≥ y", "x ≤ y", "CND"], correct: 1 },
        { text: "I. x² = 144\nII. y = 12", options: ["x > y", "x < y", "x ≥ y", "x ≤ y", "CND"], correct: 3 },
        { text: "I. x² - 10x + 21 = 0\nII. y² - 12y + 35 = 0", options: ["x > y", "x < y", "x ≥ y", "x ≤ y", "CND"], correct: 4 },
        { text: "I. 2x² - 7x + 6 = 0\nII. y² - 3y + 2 = 0", options: ["x > y", "x < y", "x ≥ y", "x ≤ y", "CND"], correct: 2 },
        { text: "A shopkeeper sells an item at 20% profit. If he had sold it for ₹60 more, he would have gained 30%. Find CP.", options: ["₹500", "₹600", "₹700", "₹800", "₹400"], correct: 1 },
        { text: "The ratio of ages of A and B is 3:4. After 4 years, the ratio becomes 4:5. Find the sum of their present ages.", options: ["24", "28", "32", "36", "40"], correct: 1 },
        { text: "A can complete a work in 12 days and B in 18 days. If they work together for 4 days, what fraction of work is left?", options: ["1/3", "4/9", "5/9", "2/3", "1/2"], correct: 1 },
        { text: "A 250m long train crosses a pole in 10 seconds. Find its speed in km/h.", options: ["80", "90", "100", "75", "60"], correct: 1 },
        { text: "Find the SI on ₹8000 for 3 years at 5% per annum.", options: ["₹1000", "₹1200", "₹1400", "₹1500", "₹800"], correct: 1 },
        { text: "In a 60L mixture, the ratio of milk and water is 2:1. If 10L of water is added, find the new ratio.", options: ["4:3", "1:1", "3:2", "5:3", "2:3"], correct: 0 },
        { text: "A boat goes 48km downstream in 4 hours and 32km upstream in 8 hours. Find speed of stream.", options: ["2 km/h", "4 km/h", "5 km/h", "3 km/h", "6 km/h"], correct: 1 },
        { text: "The perimeter of a square is 48cm. Find its area.", options: ["144 cm²", "121 cm²", "100 cm²", "169 cm²", "196 cm²"], correct: 0 },
        { text: "If the radius of a circle is doubled, its area becomes how many times?", options: ["2", "3", "4", "8", "16"], correct: 2 },
        { text: "A sum doubles itself in 5 years at SI. In how many years will it become 4 times itself?", options: ["10", "15", "20", "12", "25"], correct: 1 },
        { text: "Average of 5 consecutive odd numbers is 25. Find the smallest number.", options: ["21", "23", "19", "17", "25"], correct: 0 },
        { text: "A and B start a business with ₹4000 and ₹6000. If total profit is ₹2500, find A's share.", options: ["₹1000", "₹1500", "₹1200", "₹800", "₹900"], correct: 0 },
        { text: "A person covers a certain distance at 12 km/h and returns at 15 km/h. Find average speed.", options: ["13.33 km/h", "13.5 km/h", "14 km/h", "12.5 km/h", "13 km/h"], correct: 0 },
        { text: "If 10% of x is equal to 20% of y, then x:y is?", options: ["1:2", "2:1", "1:1", "3:2", "2:3"], correct: 1 },
        { text: "CP of 15 articles is equal to SP of 12 articles. Find profit %.", options: ["20%", "25%", "30%", "15%", "10%"], correct: 1 }
    ];

    let currentQ = 0;
    let answers = new Array(questions.length).fill(null);
    let status = new Array(questions.length).fill('unvisited');
    let timeLeft = 20 * 60;
    let timerInterval;

    function initTest() {
        document.getElementById('landing').style.display = 'none';
        document.getElementById('test-main').style.display = 'flex';
        document.getElementById('footer-nav').style.display = 'flex';
        renderPalette();
        showQuestion();
        startTimer();
    }

    function toggleSidebar() { document.getElementById('sidebar').classList.toggle('open'); }

    function renderPalette() {
        const pal = document.getElementById('palette');
        pal.innerHTML = '';
        questions.forEach((_, i) => {
            const div = document.createElement('div');
            div.className = 'num-box';
            div.id = `pal-${i}`;
            div.innerText = i + 1;
            div.onclick = () => { currentQ = i; showQuestion(); if(window.innerWidth <= 1024) toggleSidebar(); };
            pal.appendChild(div);
        });
    }

    function showQuestion() {
        const q = questions[currentQ];
        document.getElementById('q-id').innerText = `Question ${currentQ + 1}`;
        document.getElementById('q-text').innerText = q.text;
        const optGroup = document.getElementById('options-group');
        optGroup.innerHTML = '';
        q.options.forEach((opt, i) => {
            const div = document.createElement('div');
            div.className = `option ${answers[currentQ] === i ? 'selected' : ''}`;
            div.innerText = `${String.fromCharCode(65+i)}) ${opt}`;
            div.onclick = () => { answers[currentQ] = i; showQuestion(); };
            optGroup.appendChild(div);
        });
        document.querySelectorAll('.num-box').forEach(b => b.classList.remove('active'));
        document.getElementById(`pal-${currentQ}`).classList.add('active');
    }

    function saveNext() {
        if(answers[currentQ] !== null) status[currentQ] = 'answered';
        updatePaletteUI();
        if (currentQ < questions.length - 1) { currentQ++; showQuestion(); }
    }

    function markReview() {
        status[currentQ] = 'review';
        updatePaletteUI();
        if (currentQ < questions.length - 1) { currentQ++; showQuestion(); }
    }

    function updatePaletteUI() {
        const el = document.getElementById(`pal-${currentQ}`);
        el.className = 'num-box ' + (status[currentQ] === 'unvisited' ? '' : status[currentQ]);
    }

    function changeQ(dir) {
        if (dir === -1 && currentQ > 0) currentQ--;
        if (dir === 1 && currentQ < questions.length - 1) currentQ++;
        showQuestion();
    }

    function startTimer() {
        timerInterval = setInterval(() => {
            if(timeLeft <= 0) { clearInterval(timerInterval); submitTest(); return; }
            timeLeft--;
            let m = Math.floor(timeLeft/60), s = timeLeft%60;
            document.getElementById('timer').innerText = `${m}:${s<10?'0'+s:s}`;
        }, 1000);
    }

    function submitTest() {
        if(timeLeft > 0 && !confirm("Submit Test?")) return;
        clearInterval(timerInterval);
        document.getElementById('test-main').style.display = 'none';
        document.getElementById('footer-nav').style.display = 'none';
        document.getElementById('results').style.display = 'block';

        let correct = 0, wrong = 0;
        const resBody = document.getElementById('res-body');
        resBody.innerHTML = '';

        questions.forEach((q, i) => {
            let rowRes = "SKIP";
            let color = "gray";
            if (answers[i] !== null) {
                if (answers[i] === q.correct) { correct++; rowRes = "CORR"; color = "green"; }
                else { wrong++; rowRes = "WRNG"; color = "red"; }
            }
            resBody.innerHTML += `<tr><td>${i+1}</td><td style="color:${color}">${rowRes}</td><td>${q.options[q.correct]}</td></tr>`;
        });

        let finalScore = (correct - (wrong * 0.25)).toFixed(2);
        document.getElementById('score-summary').innerHTML = `Score: ${finalScore} <br> (C: ${correct}, W: ${wrong}, P: -${(wrong*0.25).toFixed(2)})`;
    }
</script>
</body>
</html>